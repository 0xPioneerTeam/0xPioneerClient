[
    {
        "id": "task01",
        "name": "defeat the gangster squad",
        "condshow": [],
        "entrypoint": {
            "type": "talkwithnpc|npc_0",
            "talk": "talk01",
            "result": "Easy job"
        },
        "steps": [
            {
                "name": "defeat the gangster squad",
                "startaction": [
                    {
                        "type": "pioneershow|npc_1"
                    },
                    {
                        "type": "pioneershow|npc_3"
                    },
                    {
                        "type": "pioneershow|gangster_1"
                    }
                ],
                "winaction": [
                    {
                        "type": "pioneershow|gangster_3",
                        "delaytime": 10
                    },
                    {
                        "type": "gettask|task08"
                    },
                    {
                        "type": "pioneershow|pioneer_3"
                    },
                    {
                        "type": "pioneerhide|npc_3"
                    }
                ],
                "condwin": [
                    {
                        "type": "killpioneer|gangster_1"
                    }
                ],
                "progress":5
            }
        ]
    },
    {
        "id": "task02",
        "name": "kill prophetess",
        "condshow": [
            "FirstTalkToProphetess"
        ],
        "condhide": [
            "KillDoomsDayGangTeam"
        ],
        "entrypoint": {
            "type": "talkwithnpc|npc_3",
            "talk": "talk02",
            "result": "Deal!"
        },
        "exitpoint": {
            "action": [
                {
                    "type": "fightwithpioneer|npc_3"
                }
            ],
            "result": "Refuse"
        },
        "steps": [
            {
                "name": "kill prophetess",
                "startaction": [
                    {
                        "type": "pioneernonfriendly|npc_0"
                    }
                ],
                "condwin": [
                    {
                        "type": "killpioneer|npc_0"
                    }
                ],
                "condfail": [
                    {
                        "type": "killpioneer|gangster_1"
                    }
                ],
                "winaction": [
                    {
                        "type": "gettask|task03"
                    },
                    {
                        "type": "pioneershow|pioneer_2"
                    },
                    {
                        "type": "pioneerhide|npc_1"
                    },
                    {
                        "type": "pioneerhide|npc_3"
                    },
                    {
                        "type": "pioneerhide|npc_4"
                    },
                    {
                        "type": "pioneerfriendly|gangster_1"
                    }
                ],
                "rewardBackpackItem":[
                    {
                        "itemConfigId":10,
                        "num":1
                    }
                ],
                "progress":5
            }
        ]
    },
    {
        "id": "task03",
        "name": "ganster router",
        "condshow": [],
        "steps": [
            {
                "name": "explore ganster team",
                "startaction": [],
                "winaction": [
                    {
                        "type": "pioneerhide|gangster_1"
                    }
                ],
                "condwin": [
                    {
                        "type": "explorewithpioneer|gangster_1"
                    }
                ],
                "condfail": [],
                "progress":5
            },
            {
                "name": "defeat the rebels",
                "startaction": [
                    {
                        "type": "pioneershow|gangster_2"
                    }
                ],
                "winaction": [
                    {
                        "type": "pioneerhide|gangster_2"
                    }
                ],
                "condwin": [
                    {
                        "type": "killpioneer|gangster_2"
                    }
                ],
                "progress":5
            },
            {
                "name": "explore big ganster team",
                "startaction": [
                    {
                        "type": "pioneershow|gangster_3"
                    },
                    {
                        "type": "pioneerfriendly|gangster_3"
                    }
                ],
                "winaction": [
                    {
                        "type": "pioneerhide|gangster_3"
                    }
                ],
                "condwin": [
                    {
                        "type": "explorewithpioneer|gangster_3"
                    }
                ],
                "progress":5
            },
            {
                "name": "defeat the main city",
                "startaction": [
                    {
                        "type": "buildingtoenemy|building_1"
                    }
                ],
                "winaction": [
                    {
                        "type": "buildinghide|building_1"
                    },
                    {
                        "type": "gameover"
                    }
                ],
                "condwin": [
                    {
                        "type": "destroybuilding|building_1"
                    }
                ],
                "progress":5
            }
        ]
    },
    {
        "id": "task04",
        "name": "kill hred",
        "condshow": [
            "KillDoomsDayGangTeam"
        ],
        "entrypoint": {
            "type": "talkwithnpc|npc_4",
            "talk": "talk03",
            "result": "Of course!",
            "timecount": "600"
        },
        "steps": [
            {
                "name": "kill hred",
                "startaction": [
                    {
                        "type": "pioneershow|hred_1"
                    }
                ],
                "winaction": [],
                "condwin": [
                    {
                        "type": "killpioneer|hred_1"
                    }
                ],
                "condfail": [
                    {
                        "type": "pioneerhide",
                        "pioneerid": "hred_1"
                    }
                ],
                "rewardBackpackItem":[
                    {
                        "itemConfigId":13,
                        "num":1
                    }
                ],
                "progress":5
            }
        ]
    },
    {
        "id": "task05",
        "name": "become city master",
        "condshow": [
            "FirstTalkToProphetess"
        ],
        "entrypoint": {
            "type": "talkwithnpc|npc_0",
            "talk": "talk04",
            "result": "I'm on it;Seriously?",
            "cdtimecount": "5"
        },
        "steps": [
            {
                "name": "explore ruins",
                "startaction": [
                    {
                        "type": "buildingshow|building_2"
                    }
                ],
                "winaction": [
                    {
                        
                        "type": "buildinghide|building_2"
                    }
                ],
                "condwin": [
                    {
                        "type": "explorewithbuilding|building_2"
                    }
                ],
                "condfail": [],
                "progress":5
            },
            {
                "name": "explore treasure",
                "startaction": [
                    {
                        "type": "buildingshow|building_3"
                    }
                ],
                "winaction": [
                    {
                        "type": "buildinghide|building_3"
                    }
                ],
                "condwin": [
                    {
                        "type": "explorewithbuilding|building_3"
                    }
                ],
                "condfail": [
                    {
                        "type": "pioneerhidebuilding",
                        "buildingid": "building_3",
                        "pioneerid": "gangster_3"
                    }
                ],
                "rewardBackpackItem":[
                    {
                        "itemConfigId":8,
                        "num":1
                    }
                ],
                "progress":5
            },
            {
                "name": "talk with prophetess, become city master",
                "startaction": [],
                "winaction": [
                    {
                        "type": "pioneershow|npc_2"
                    },
                    {
                        "type": "buildingtoself|building_1"
                    },
                    {
                        "type": "talk|talk09"
                    }
                ],
                "condwin": [
                    {
                        "type": "explorewithpioneer|npc_0"
                    }
                ],
                "condfail": [],
                "rewardBackpackItem":[
                    {
                        "itemConfigId":9,
                        "num":1
                    }
                ],
                "progress":5
            }
        ]
    },
    {
        "id": "task06",
        "name": "help you kill doomsDayGangTeam",
        "condshow": [
            "BecomeCityMaster"
        ],
        "condhide": [
            "KillDoomsDayGangTeam"
        ],
        "entrypoint": {
            "type": "talkwithnpc|npc_2",
            "talk": "talk05",
            "result": "Nice!;Take care"
        },
        "steps": [
            {
                "name": "kill doomsDayGangTeam",
                "startaction": [
                    {
                        "type": "pioneerhide|npc_2"
                    },
                    {
                        "type": "pioneershow|pioneer_1"
                    }
                ],
                "winaction": [],
                "condwin": [],
                "condfail": [],
                "progress":5
            }
        ]
    },
    {
        "id": "task07",
        "name": "ambush doomsdayGangBigTeam",
        "condshow": [
            "BecomeCityMaster",
            "KillDoomsDayGangTeam"
        ],
        "entrypoint": {
            "type": "talkwithnpc|npc_0",
            "talk": "talk06",
            "result": "Good job;I'll try",
            "cdtimecount": "5"
        },
        "steps": [
            {
                "name": "go to ambush point",
                "startaction": [
                    {
                        "type": "buildingshow|building_4"
                    }
                ],
                "winaction": [],
                "condwin": [
                    {
                        "type": "explorewithbuilding|building_4"
                    }
                ],
                "condfail": [],
                "progress":5
            },
            {
                "name": "wait doomsdayGangBigTeam come and win fight",
                "startaction": [],
                "winaction": [
                    {
                        "type": "pioneerhide|npc_3"
                    },
                    {
                        "type": "gameover"
                    }
                ],
                "condwin": [
                    {
                        "type": "killpioneer|gangster_3"
                    }
                ],
                "condfail": [],
                "progress":5
            }
        ]
    },
    {
        "id": "task08",
        "name": "goahead doomsdayGangBigTeam",
        "condshow": [],
        "steps": [
            {
                "name": "goahead doomsdayGangBigTeam",
                "startaction": [],
                "winaction": [
                    {
                        "type": "gameover"
                    }
                ],
                "condwin": [
                    {
                        "type": "killpioneer|gangster_3"
                    }
                ],
                "condfail": [],
                "progress":5
            }
        ]
    },
    {
        "id": "task09",
        "name": "become doomsdayGang spy",
        "condshow": [
            "KillDoomsDayGangTeam"
        ],
        "entrypoint": {
            "type": "talkwithbuilding|building_1",
            "triggerpioneerId": "gangster_3",
            "talk": "talk07",
            "result": "Deal!"
        },
        "exitpoint": {
            "action": [
                {
                    "type": "maincityfightwithpioneer|gangster_3"
                }
            ],
            "result": "Fight!"
        },
        "steps": [
            {
                "name": "become spy",
                "startaction": [],
                "winaction": [
                    {
                        "type": "pioneerhide|gangster_3"
                    },
                    {
                        "type": "pioneerhide|npc_0"
                    },
                    {
                        "type": "pioneerhide|npc_1"
                    },
                    {
                        "type": "pioneerhide|npc_4"
                    },
                    {
                        "type": "gameover"
                    }
                ],
                "condwin": [],
                "condfail": [],
                "rewardBackpackItem":[
                    {
                        "itemConfigId":11,
                        "num":1
                    }
                ],
                "progress":5
            }
        ]
    },
    {
        "id": "task10",
        "name": "Cultivating health and recuperating",
        "condshow": [
            "FirstTalkToProphetess"
        ],
        "condhide": [
            "KillProphetess"
        ],
        "entrypoint": {
            "type": "talkwithnpc|npc_1",
            "talk": "talk08",
            "result": "All right"
        },
        "steps": [
            {
                "name": "search resource 3 times",
                "alias": "search resource 3 times",
                "startaction": [],
                "addition": true,
                "belong": "talk to artisan",
                "condwin": [
                    {
                        "type": "getresourcereached"
                    },
                    {
                        "type": "getresourcereached"
                    },
                    {
                        "type": "getresourcereached"
                    }
                ],
                "condfail": [
                    {
                        "type": "KillProphetess"
                    }
                ],
                "winaction": [],
                "progress":5
            },
            {
                "name": "talk to artisan",
                "alias": "talk to artisan",
                "winActionAndRewardAdditionStepAlias": "search resource 3 times",
                "startaction": [],
                "condwin": [
                    {
                        "type": "explorewithpioneer|npc_1"
                    }
                ],
                "condfail": [
                    {
                        "type": "KillProphetess"
                    }
                ],
                "winaction": [
                    {
                        "type": "talk|talk10",
                        "condi": {
                            "limitcount": 1
                        }
                    },
                    {
                        "type": "talk|talk12",
                        "condi": {
                            "limitcount": 2
                        }
                    },
                    {
                        "type": "talk|talk13",
                        "condi": {
                            "limitcount": 3
                        }
                    }
                ],
                "rewardBackpackItem":[
                    {
                        "itemConfigId":15,
                        "num":1,
                        "condi": {
                            "limitcount": 1
                        }
                    },
                    {
                        "itemConfigId":15,
                        "num":2,
                        "condi": {
                            "limitcount": 2
                        }
                    },
                    {
                        "itemConfigId":15,
                        "num":3,
                        "condi": {
                            "limitcount": 3
                        }
                    }
                ],
                "progress":5
            },
            {
                "name": "fix wall and build house",
                "startaction": [],
                "condwin": [
                    {
                        "type": "buildhouse"
                    }
                ],
                "condfail": [
                    {
                        "type": "KillProphetess"
                    }
                ],
                "winaction": [
                    {
                        "type": "pioneerhide|npc_1"
                    }
                ],
                "progress":5
            }
        ]
    }
]